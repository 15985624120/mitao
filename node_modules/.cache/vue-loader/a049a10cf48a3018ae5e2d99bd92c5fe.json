{"remainingRequest":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\桌面\\nectarine\\nectarine_isweb\\src\\views\\more\\order.vue?vue&type=style&index=0&id=01ec2fae&scoped=true&lang=css&","dependencies":[{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\src\\views\\more\\order.vue","mtime":1603993356992},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmZlbnMgLmJnIHsNCiAgYmFja2dyb3VuZDogI2ZmNjY5OTsNCn0NCi56b25nIC5iZyB7DQogIGJhY2tncm91bmQ6ICM5YjcxNTk7DQp9DQouZmVucyAuYmdfMSB7DQogIGJhY2tncm91bmQ6ICNmZmNjZGQ7DQp9DQouem9uZyAuYmdfMSB7DQogIGJhY2tncm91bmQ6ICNjNGE4NmU7DQp9DQovKiDooajljZXpg6jliIYgKi8NCi5iaWFvZGFuIHsNCiAgbWFyZ2luOiA0MHB4IDA7DQp9DQovKiDpooTnuqbkurrmlbAgKi8NCi5yZW5zaHUgew0KICBoZWlnaHQ6IDEwMCU7DQogIHdpZHRoOiA3NHB4Ow0KfQ0KLnJlbnNodV9zcGFuIHsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBtYXJnaW46IDAgMTBweDsNCn0NCi5idG4gew0KICBtYXJnaW4tYm90dG9tOiA0NXB4Ow0KfQ0KLnJlbnNodV9idG4gew0KICBib3JkZXI6IDA7DQp9DQoudGV4dGFyZWEgew0KICB3aWR0aDogMTAwdnc7DQogIGhlaWdodDogMTAwcHg7DQogIHJlc2l6ZTogbm9uZTsNCiAgYm9yZGVyOiAwOw0KICBtYXJnaW46IDVweCBhdXRvOw0KfQ0K"},{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order.vue","sourceRoot":"src/views/more","sourcesContent":["<template>\r\n  <div class=\"zong\">\r\n    <!-- 顶部导航开始 -->\r\n    <mt-header title=\"填写订单\" class=\"bg\" fixed>\r\n      <router-link :to=\"`/photographer/${fid}`\" slot=\"left\">\r\n        <mt-button icon=\"back\"></mt-button>\r\n      </router-link>\r\n    </mt-header>\r\n    <!-- 顶部导航结束 -->\r\n    <!-- 表单部分开始 -->\r\n\r\n    <div class=\"biaodan\">\r\n      <div class=\"btn\">\r\n        <mt-cell title=\"摄影师名称\">\r\n          <div class=\"biaodan_xingxi\">{{ usename.usname }}</div>\r\n        </mt-cell>\r\n        <mt-cell title=\"摄影风格\">\r\n          <div class=\"biaodan_xingxi\">{{ usename.direction }}</div>\r\n        </mt-cell>\r\n        <mt-cell title=\"价格\">\r\n          <div class=\"biaodan_xingxi\">{{ usename.pathe }}元</div>\r\n        </mt-cell>\r\n        <mt-cell title=\"预约人数\">\r\n          <div class=\"renshu\">\r\n            <button @click=\"minus\" class=\"renshu_btn\">-</button>\r\n            <span class=\"renshu_span\">{{ n }}</span>\r\n            <button @click=\"add\" class=\"renshu_btn\">+</button>\r\n          </div>\r\n        </mt-cell>\r\n        <mt-cell title=\"时间\">\r\n          <mt-button @click.native=\"open('picker')\" size=\"large\">{{\r\n            value | formatDate\r\n          }}</mt-button>\r\n        </mt-cell>\r\n        <!-- 时间选择器 -->\r\n        <mt-datetime-picker\r\n          class=\"picker_show\"\r\n          ref=\"picker\"\r\n          type=\"date\"\r\n          v-model=\"value\"\r\n          :startDate=\"startDate\"\r\n          :endDate=\"endDate\"\r\n        ></mt-datetime-picker>\r\n      </div>\r\n      <div>\r\n        <mt-field\r\n          v-model=\"yname\"\r\n          type=\"text\"\r\n          label=\"姓名\"\r\n          placeholder=\"请填写真实姓名（必填）\"\r\n          :attr=\"{ maxlength: 20 }\"\r\n        ></mt-field>\r\n        <mt-field\r\n          class=\"\"\r\n          type=\"text\"\r\n          label=\"电话\"\r\n          v-model=\"yphone\"\r\n          :attr=\"{ maxlength: 20 }\"\r\n        ></mt-field>\r\n        <mt-cell>\r\n          <textarea\r\n            class=\"textarea\"\r\n            v-model=\"bei\"\r\n            placeholder=\"备注        （选填）\"\r\n          ></textarea>\r\n        </mt-cell>\r\n      </div>\r\n    </div>\r\n    <!-- 表单部分结束 -->\r\n    <div>\r\n      <mt-button @click=\"iSlink\" type=\"primary\" size=\"large\" class=\"bg\"\r\n        >点击提交</mt-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n.fens .bg {\r\n  background: #ff6699;\r\n}\r\n.zong .bg {\r\n  background: #9b7159;\r\n}\r\n.fens .bg_1 {\r\n  background: #ffccdd;\r\n}\r\n.zong .bg_1 {\r\n  background: #c4a86e;\r\n}\r\n/* 表单部分 */\r\n.biaodan {\r\n  margin: 40px 0;\r\n}\r\n/* 预约人数 */\r\n.renshu {\r\n  height: 100%;\r\n  width: 74px;\r\n}\r\n.renshu_span {\r\n  text-align: center;\r\n  margin: 0 10px;\r\n}\r\n.btn {\r\n  margin-bottom: 45px;\r\n}\r\n.renshu_btn {\r\n  border: 0;\r\n}\r\n.textarea {\r\n  width: 100vw;\r\n  height: 100px;\r\n  resize: none;\r\n  border: 0;\r\n  margin: 5px auto;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      n: 1,\r\n      fid: 1,\r\n      aid: 1,\r\n      yname: \"\",\r\n      yphone: \"\",\r\n      bei: \"\",\r\n      data: null,\r\n      usename: [],\r\n      phone: [],\r\n      // 时间选择器\r\n      value: new Date(), //定义显示时间\r\n      visible: false,\r\n      startDate: new Date(), //设置开始时间\r\n      endDate: new Date(\"2021-12-31\"), //设置结束时间\r\n    };\r\n  },\r\n  filters: {\r\n    //时间转换\r\n    formatDate(time) {\r\n      var date = new Date(time);\r\n      return formatDate(date, \"yyyy-MM-dd\");\r\n    },\r\n  },\r\n  methods: {\r\n    iSlink() {\r\n      if (this.yname.length == 0) {\r\n        this.$toast({\r\n          message: \"姓名不能为空\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return;\r\n      } else {\r\n        var reg = /^1[3-9]\\d{9}$/;\r\n        //     去除空格在判断\r\n        if (reg.test(this.yphone.trim())) {\r\n        } else {\r\n          this.phoneState = \"error\";\r\n          this.$toast({\r\n            message: \"手机号码不合法\",\r\n            position: \"top\",\r\n            duration: \"2000\",\r\n          });\r\n          return;\r\n        }\r\n      }\r\n      // 提交内容\r\n      let obj = {\r\n        aid: this.aid, //用户id\r\n        sid: this.fid, //摄影师id\r\n        paceth: this.usename.pathe, //价格\r\n        rens: this.n, //仁苏\r\n        shij: this.value, //月圆时间\r\n        yname: this.yname, //用户名\r\n        yphone: this.yphone, //电话\r\n        beizu: this.bei,\r\n      };\r\n      this.axios.post(\"/chanp/yydd\", this.qs.stringify(obj)).then((res) => {\r\n        console.log(res.data);\r\n      });\r\n    },\r\n    add() {\r\n      this.n++;\r\n    },\r\n    minus() {\r\n      if (this.n > 1) {\r\n        this.n--;\r\n      }\r\n    },\r\n    yuyue() {\r\n      // 预约查询摄影师姓名、价格、风格\r\n      this.$router.push(\"/yuyue\");\r\n    },\r\n    yydh() {\r\n      this.$router.push(\"/yydh\");\r\n    },\r\n    yymc() {\r\n      this.$router.push(\"/yymc\");\r\n    },\r\n    open(picker) {\r\n      this.$refs[picker].open(); //设置开始\r\n    },\r\n    handleConfirm(value) {\r\n      console.log(value);\r\n      this.year = value.getFullYear();\r\n      this.month = value.getMonth() + 1;\r\n      this.date = value.getDate();\r\n      this.isClicked = true;\r\n    },\r\n  },\r\n  mounted() {\r\n    // let fid = this.$route.params.fid;\r\n    // console.log(fid);\r\n    let aname = localStorage.getItem(\"uname\");\r\n    let fid = this.$route.params.fid;\r\n    this.fid = fid;\r\n    console.log(aname);\r\n    this.axios.post(\"/chanp/yuyue?fid=\" + fid).then((res) => {\r\n      this.usename = res.data.reslut[0];\r\n      // console.log(this.usename);\r\n    });\r\n\r\n    this.axios.get(\"/chanp/yymc?aname=\" + aname).then((res) => {\r\n      this.usebana = res.data.reslut[0];\r\n\r\n      this.aid = this.usebana.aid;\r\n      // console.log(this.aid);\r\n      localStorage.setItem(\"usename_id\", this.aid);\r\n      this.yphone = this.usebana.phone;\r\n    });\r\n\r\n    // this.axios.get(\"/chanp/yydh?aname=\" + this.usebana.aid).then((res) => {\r\n    //   this.phone = res.data.reslut[0];\r\n    //   console.log(this.phone);\r\n    //   this.yphone = this.phone.phone;\r\n    // });\r\n  },\r\n};\r\nexport function formatDate(date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(\r\n      RegExp.$1,\r\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\r\n    );\r\n  }\r\n  let o = {\r\n    \"M+\": date.getMonth() + 1,\r\n    \"d+\": date.getDate(),\r\n    \"h+\": date.getHours(),\r\n    \"m+\": date.getMinutes(),\r\n    \"s+\": date.getSeconds(),\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + \"\";\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        RegExp.$1.length === 1 ? str : padLeftZero(str)\r\n      );\r\n    }\r\n  }\r\n  console.log(fmt);\r\n  return fmt;\r\n}\r\n\r\nfunction padLeftZero(str) {\r\n  return (\"00\" + str).substr(str.length);\r\n}\r\n</script>"]}]}