{"remainingRequest":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\桌面\\nectarine\\nectarine_isweb\\src\\views\\more\\order.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\src\\views\\more\\order.vue","mtime":1603993356992},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG46IDEsDQogICAgICBmaWQ6IDEsDQogICAgICBhaWQ6IDEsDQogICAgICB5bmFtZTogIiIsDQogICAgICB5cGhvbmU6ICIiLA0KICAgICAgYmVpOiAiIiwNCiAgICAgIGRhdGE6IG51bGwsDQogICAgICB1c2VuYW1lOiBbXSwNCiAgICAgIHBob25lOiBbXSwNCiAgICAgIC8vIOaXtumXtOmAieaLqeWZqA0KICAgICAgdmFsdWU6IG5ldyBEYXRlKCksIC8v5a6a5LmJ5pi+56S65pe26Ze0DQogICAgICB2aXNpYmxlOiBmYWxzZSwNCiAgICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoKSwgLy/orr7nva7lvIDlp4vml7bpl7QNCiAgICAgIGVuZERhdGU6IG5ldyBEYXRlKCIyMDIxLTEyLTMxIiksIC8v6K6+572u57uT5p2f5pe26Ze0DQogICAgfTsNCiAgfSwNCiAgZmlsdGVyczogew0KICAgIC8v5pe26Ze06L2s5o2iDQogICAgZm9ybWF0RGF0ZSh0aW1lKSB7DQogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpOw0KICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF0ZSwgInl5eXktTU0tZGQiKTsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaVNsaW5rKCkgew0KICAgICAgaWYgKHRoaXMueW5hbWUubGVuZ3RoID09IDApIHsNCiAgICAgICAgdGhpcy4kdG9hc3Qoew0KICAgICAgICAgIG1lc3NhZ2U6ICLlp5PlkI3kuI3og73kuLrnqboiLA0KICAgICAgICAgIHBvc2l0aW9uOiAidG9wIiwNCiAgICAgICAgICBkdXJhdGlvbjogIjIwMDAiLA0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdmFyIHJlZyA9IC9eMVszLTldXGR7OX0kLzsNCiAgICAgICAgLy8gICAgIOWOu+mZpOepuuagvOWcqOWIpOaWrQ0KICAgICAgICBpZiAocmVnLnRlc3QodGhpcy55cGhvbmUudHJpbSgpKSkgew0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucGhvbmVTdGF0ZSA9ICJlcnJvciI7DQogICAgICAgICAgdGhpcy4kdG9hc3Qoew0KICAgICAgICAgICAgbWVzc2FnZTogIuaJi+acuuWPt+eggeS4jeWQiOazlSIsDQogICAgICAgICAgICBwb3NpdGlvbjogInRvcCIsDQogICAgICAgICAgICBkdXJhdGlvbjogIjIwMDAiLA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy8g5o+Q5Lqk5YaF5a65DQogICAgICBsZXQgb2JqID0gew0KICAgICAgICBhaWQ6IHRoaXMuYWlkLCAvL+eUqOaIt2lkDQogICAgICAgIHNpZDogdGhpcy5maWQsIC8v5pGE5b2x5biIaWQNCiAgICAgICAgcGFjZXRoOiB0aGlzLnVzZW5hbWUucGF0aGUsIC8v5Lu35qC8DQogICAgICAgIHJlbnM6IHRoaXMubiwgLy/ku4Hoi48NCiAgICAgICAgc2hpajogdGhpcy52YWx1ZSwgLy/mnIjlnIbml7bpl7QNCiAgICAgICAgeW5hbWU6IHRoaXMueW5hbWUsIC8v55So5oi35ZCNDQogICAgICAgIHlwaG9uZTogdGhpcy55cGhvbmUsIC8v55S16K+dDQogICAgICAgIGJlaXp1OiB0aGlzLmJlaSwNCiAgICAgIH07DQogICAgICB0aGlzLmF4aW9zLnBvc3QoIi9jaGFucC95eWRkIiwgdGhpcy5xcy5zdHJpbmdpZnkob2JqKSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgYWRkKCkgew0KICAgICAgdGhpcy5uKys7DQogICAgfSwNCiAgICBtaW51cygpIHsNCiAgICAgIGlmICh0aGlzLm4gPiAxKSB7DQogICAgICAgIHRoaXMubi0tOw0KICAgICAgfQ0KICAgIH0sDQogICAgeXV5dWUoKSB7DQogICAgICAvLyDpooTnuqbmn6Xor6LmkYTlvbHluIjlp5PlkI3jgIHku7fmoLzjgIHpo47moLwNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIveXV5dWUiKTsNCiAgICB9LA0KICAgIHl5ZGgoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3l5ZGgiKTsNCiAgICB9LA0KICAgIHl5bWMoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3l5bWMiKTsNCiAgICB9LA0KICAgIG9wZW4ocGlja2VyKSB7DQogICAgICB0aGlzLiRyZWZzW3BpY2tlcl0ub3BlbigpOyAvL+iuvue9ruW8gOWniw0KICAgIH0sDQogICAgaGFuZGxlQ29uZmlybSh2YWx1ZSkgew0KICAgICAgY29uc29sZS5sb2codmFsdWUpOw0KICAgICAgdGhpcy55ZWFyID0gdmFsdWUuZ2V0RnVsbFllYXIoKTsNCiAgICAgIHRoaXMubW9udGggPSB2YWx1ZS5nZXRNb250aCgpICsgMTsNCiAgICAgIHRoaXMuZGF0ZSA9IHZhbHVlLmdldERhdGUoKTsNCiAgICAgIHRoaXMuaXNDbGlja2VkID0gdHJ1ZTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8vIGxldCBmaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZmlkOw0KICAgIC8vIGNvbnNvbGUubG9nKGZpZCk7DQogICAgbGV0IGFuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVuYW1lIik7DQogICAgbGV0IGZpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5maWQ7DQogICAgdGhpcy5maWQgPSBmaWQ7DQogICAgY29uc29sZS5sb2coYW5hbWUpOw0KICAgIHRoaXMuYXhpb3MucG9zdCgiL2NoYW5wL3l1eXVlP2ZpZD0iICsgZmlkKS50aGVuKChyZXMpID0+IHsNCiAgICAgIHRoaXMudXNlbmFtZSA9IHJlcy5kYXRhLnJlc2x1dFswXTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlbmFtZSk7DQogICAgfSk7DQoNCiAgICB0aGlzLmF4aW9zLmdldCgiL2NoYW5wL3l5bWM/YW5hbWU9IiArIGFuYW1lKS50aGVuKChyZXMpID0+IHsNCiAgICAgIHRoaXMudXNlYmFuYSA9IHJlcy5kYXRhLnJlc2x1dFswXTsNCg0KICAgICAgdGhpcy5haWQgPSB0aGlzLnVzZWJhbmEuYWlkOw0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5haWQpOw0KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZW5hbWVfaWQiLCB0aGlzLmFpZCk7DQogICAgICB0aGlzLnlwaG9uZSA9IHRoaXMudXNlYmFuYS5waG9uZTsNCiAgICB9KTsNCg0KICAgIC8vIHRoaXMuYXhpb3MuZ2V0KCIvY2hhbnAveXlkaD9hbmFtZT0iICsgdGhpcy51c2ViYW5hLmFpZCkudGhlbigocmVzKSA9PiB7DQogICAgLy8gICB0aGlzLnBob25lID0gcmVzLmRhdGEucmVzbHV0WzBdOw0KICAgIC8vICAgY29uc29sZS5sb2codGhpcy5waG9uZSk7DQogICAgLy8gICB0aGlzLnlwaG9uZSA9IHRoaXMucGhvbmUucGhvbmU7DQogICAgLy8gfSk7DQogIH0sDQp9Ow0KZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm10KSB7DQogIGlmICgvKHkrKS8udGVzdChmbXQpKSB7DQogICAgZm10ID0gZm10LnJlcGxhY2UoDQogICAgICBSZWdFeHAuJDEsDQogICAgICAoZGF0ZS5nZXRGdWxsWWVhcigpICsgIiIpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkNCiAgICApOw0KICB9DQogIGxldCBvID0gew0KICAgICJNKyI6IGRhdGUuZ2V0TW9udGgoKSArIDEsDQogICAgImQrIjogZGF0ZS5nZXREYXRlKCksDQogICAgImgrIjogZGF0ZS5nZXRIb3VycygpLA0KICAgICJtKyI6IGRhdGUuZ2V0TWludXRlcygpLA0KICAgICJzKyI6IGRhdGUuZ2V0U2Vjb25kcygpLA0KICB9Ow0KICBmb3IgKGxldCBrIGluIG8pIHsNCiAgICBpZiAobmV3IFJlZ0V4cChgKCR7a30pYCkudGVzdChmbXQpKSB7DQogICAgICBsZXQgc3RyID0gb1trXSArICIiOw0KICAgICAgZm10ID0gZm10LnJlcGxhY2UoDQogICAgICAgIFJlZ0V4cC4kMSwNCiAgICAgICAgUmVnRXhwLiQxLmxlbmd0aCA9PT0gMSA/IHN0ciA6IHBhZExlZnRaZXJvKHN0cikNCiAgICAgICk7DQogICAgfQ0KICB9DQogIGNvbnNvbGUubG9nKGZtdCk7DQogIHJldHVybiBmbXQ7DQp9DQoNCmZ1bmN0aW9uIHBhZExlZnRaZXJvKHN0cikgew0KICByZXR1cm4gKCIwMCIgKyBzdHIpLnN1YnN0cihzdHIubGVuZ3RoKTsNCn0NCg=="},{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"order.vue","sourceRoot":"src/views/more","sourcesContent":["<template>\r\n  <div class=\"zong\">\r\n    <!-- 顶部导航开始 -->\r\n    <mt-header title=\"填写订单\" class=\"bg\" fixed>\r\n      <router-link :to=\"`/photographer/${fid}`\" slot=\"left\">\r\n        <mt-button icon=\"back\"></mt-button>\r\n      </router-link>\r\n    </mt-header>\r\n    <!-- 顶部导航结束 -->\r\n    <!-- 表单部分开始 -->\r\n\r\n    <div class=\"biaodan\">\r\n      <div class=\"btn\">\r\n        <mt-cell title=\"摄影师名称\">\r\n          <div class=\"biaodan_xingxi\">{{ usename.usname }}</div>\r\n        </mt-cell>\r\n        <mt-cell title=\"摄影风格\">\r\n          <div class=\"biaodan_xingxi\">{{ usename.direction }}</div>\r\n        </mt-cell>\r\n        <mt-cell title=\"价格\">\r\n          <div class=\"biaodan_xingxi\">{{ usename.pathe }}元</div>\r\n        </mt-cell>\r\n        <mt-cell title=\"预约人数\">\r\n          <div class=\"renshu\">\r\n            <button @click=\"minus\" class=\"renshu_btn\">-</button>\r\n            <span class=\"renshu_span\">{{ n }}</span>\r\n            <button @click=\"add\" class=\"renshu_btn\">+</button>\r\n          </div>\r\n        </mt-cell>\r\n        <mt-cell title=\"时间\">\r\n          <mt-button @click.native=\"open('picker')\" size=\"large\">{{\r\n            value | formatDate\r\n          }}</mt-button>\r\n        </mt-cell>\r\n        <!-- 时间选择器 -->\r\n        <mt-datetime-picker\r\n          class=\"picker_show\"\r\n          ref=\"picker\"\r\n          type=\"date\"\r\n          v-model=\"value\"\r\n          :startDate=\"startDate\"\r\n          :endDate=\"endDate\"\r\n        ></mt-datetime-picker>\r\n      </div>\r\n      <div>\r\n        <mt-field\r\n          v-model=\"yname\"\r\n          type=\"text\"\r\n          label=\"姓名\"\r\n          placeholder=\"请填写真实姓名（必填）\"\r\n          :attr=\"{ maxlength: 20 }\"\r\n        ></mt-field>\r\n        <mt-field\r\n          class=\"\"\r\n          type=\"text\"\r\n          label=\"电话\"\r\n          v-model=\"yphone\"\r\n          :attr=\"{ maxlength: 20 }\"\r\n        ></mt-field>\r\n        <mt-cell>\r\n          <textarea\r\n            class=\"textarea\"\r\n            v-model=\"bei\"\r\n            placeholder=\"备注        （选填）\"\r\n          ></textarea>\r\n        </mt-cell>\r\n      </div>\r\n    </div>\r\n    <!-- 表单部分结束 -->\r\n    <div>\r\n      <mt-button @click=\"iSlink\" type=\"primary\" size=\"large\" class=\"bg\"\r\n        >点击提交</mt-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n.fens .bg {\r\n  background: #ff6699;\r\n}\r\n.zong .bg {\r\n  background: #9b7159;\r\n}\r\n.fens .bg_1 {\r\n  background: #ffccdd;\r\n}\r\n.zong .bg_1 {\r\n  background: #c4a86e;\r\n}\r\n/* 表单部分 */\r\n.biaodan {\r\n  margin: 40px 0;\r\n}\r\n/* 预约人数 */\r\n.renshu {\r\n  height: 100%;\r\n  width: 74px;\r\n}\r\n.renshu_span {\r\n  text-align: center;\r\n  margin: 0 10px;\r\n}\r\n.btn {\r\n  margin-bottom: 45px;\r\n}\r\n.renshu_btn {\r\n  border: 0;\r\n}\r\n.textarea {\r\n  width: 100vw;\r\n  height: 100px;\r\n  resize: none;\r\n  border: 0;\r\n  margin: 5px auto;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      n: 1,\r\n      fid: 1,\r\n      aid: 1,\r\n      yname: \"\",\r\n      yphone: \"\",\r\n      bei: \"\",\r\n      data: null,\r\n      usename: [],\r\n      phone: [],\r\n      // 时间选择器\r\n      value: new Date(), //定义显示时间\r\n      visible: false,\r\n      startDate: new Date(), //设置开始时间\r\n      endDate: new Date(\"2021-12-31\"), //设置结束时间\r\n    };\r\n  },\r\n  filters: {\r\n    //时间转换\r\n    formatDate(time) {\r\n      var date = new Date(time);\r\n      return formatDate(date, \"yyyy-MM-dd\");\r\n    },\r\n  },\r\n  methods: {\r\n    iSlink() {\r\n      if (this.yname.length == 0) {\r\n        this.$toast({\r\n          message: \"姓名不能为空\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return;\r\n      } else {\r\n        var reg = /^1[3-9]\\d{9}$/;\r\n        //     去除空格在判断\r\n        if (reg.test(this.yphone.trim())) {\r\n        } else {\r\n          this.phoneState = \"error\";\r\n          this.$toast({\r\n            message: \"手机号码不合法\",\r\n            position: \"top\",\r\n            duration: \"2000\",\r\n          });\r\n          return;\r\n        }\r\n      }\r\n      // 提交内容\r\n      let obj = {\r\n        aid: this.aid, //用户id\r\n        sid: this.fid, //摄影师id\r\n        paceth: this.usename.pathe, //价格\r\n        rens: this.n, //仁苏\r\n        shij: this.value, //月圆时间\r\n        yname: this.yname, //用户名\r\n        yphone: this.yphone, //电话\r\n        beizu: this.bei,\r\n      };\r\n      this.axios.post(\"/chanp/yydd\", this.qs.stringify(obj)).then((res) => {\r\n        console.log(res.data);\r\n      });\r\n    },\r\n    add() {\r\n      this.n++;\r\n    },\r\n    minus() {\r\n      if (this.n > 1) {\r\n        this.n--;\r\n      }\r\n    },\r\n    yuyue() {\r\n      // 预约查询摄影师姓名、价格、风格\r\n      this.$router.push(\"/yuyue\");\r\n    },\r\n    yydh() {\r\n      this.$router.push(\"/yydh\");\r\n    },\r\n    yymc() {\r\n      this.$router.push(\"/yymc\");\r\n    },\r\n    open(picker) {\r\n      this.$refs[picker].open(); //设置开始\r\n    },\r\n    handleConfirm(value) {\r\n      console.log(value);\r\n      this.year = value.getFullYear();\r\n      this.month = value.getMonth() + 1;\r\n      this.date = value.getDate();\r\n      this.isClicked = true;\r\n    },\r\n  },\r\n  mounted() {\r\n    // let fid = this.$route.params.fid;\r\n    // console.log(fid);\r\n    let aname = localStorage.getItem(\"uname\");\r\n    let fid = this.$route.params.fid;\r\n    this.fid = fid;\r\n    console.log(aname);\r\n    this.axios.post(\"/chanp/yuyue?fid=\" + fid).then((res) => {\r\n      this.usename = res.data.reslut[0];\r\n      // console.log(this.usename);\r\n    });\r\n\r\n    this.axios.get(\"/chanp/yymc?aname=\" + aname).then((res) => {\r\n      this.usebana = res.data.reslut[0];\r\n\r\n      this.aid = this.usebana.aid;\r\n      // console.log(this.aid);\r\n      localStorage.setItem(\"usename_id\", this.aid);\r\n      this.yphone = this.usebana.phone;\r\n    });\r\n\r\n    // this.axios.get(\"/chanp/yydh?aname=\" + this.usebana.aid).then((res) => {\r\n    //   this.phone = res.data.reslut[0];\r\n    //   console.log(this.phone);\r\n    //   this.yphone = this.phone.phone;\r\n    // });\r\n  },\r\n};\r\nexport function formatDate(date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(\r\n      RegExp.$1,\r\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\r\n    );\r\n  }\r\n  let o = {\r\n    \"M+\": date.getMonth() + 1,\r\n    \"d+\": date.getDate(),\r\n    \"h+\": date.getHours(),\r\n    \"m+\": date.getMinutes(),\r\n    \"s+\": date.getSeconds(),\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + \"\";\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        RegExp.$1.length === 1 ? str : padLeftZero(str)\r\n      );\r\n    }\r\n  }\r\n  console.log(fmt);\r\n  return fmt;\r\n}\r\n\r\nfunction padLeftZero(str) {\r\n  return (\"00\" + str).substr(str.length);\r\n}\r\n</script>"]}]}