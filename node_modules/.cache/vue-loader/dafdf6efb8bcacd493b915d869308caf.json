{"remainingRequest":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\桌面\\nectarine\\nectarine_isweb\\src\\views\\Register.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\src\\views\\Register.vue","mtime":1603381292008},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\桌面\\nectarine\\nectarine_isweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoucmVnaXN0ZXJfb3BfZmllbGQgaW5wdXQubWludC1maWVsZC1jb3JlIHsNCiAgYmFja2dyb3VuZDogcmdiYSgxOTYsIDE2NiwgMTQyLCAwKTsNCn0NCi5yZWdpc3Rlcl9vcF9maWVsZCB7DQogIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7DQp9DQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"register_back \" v-my-pigment>\r\n      <!-- 顶部导航开始 -->\r\n      <mt-header title=\"蜜桃摄影\" class=\"bg\">\r\n        <router-link to=\"/index\" slot=\"left\">\r\n          <mt-button icon=\"back\"></mt-button>\r\n        </router-link>\r\n        \r\n        <router-link to=\"/login\" slot=\"right\" class=\"shortcut\">\r\n          登录\r\n        </router-link>\r\n      </mt-header>\r\n      <!-- 顶部导航结束 -->\r\n      <!-- 表单区域开始 -->\r\n      <!-- 输入框部分开始 -->\r\n      <div class=\"register_op\">\r\n        <!-- 头像 -->\r\n        <div class=\"register_touxiang\">\r\n          <img src=\"../assets/login/touxiang84.svg\" />\r\n        </div>\r\n        <div>\r\n          <!-- 用户名输入框 -->\r\n          <mt-field\r\n            class=\"register_op_field register_field_s\"\r\n            type=\"text\"\r\n            label=\"用户名\"\r\n            placeholder=\"请输入用户名\"\r\n            :attr=\"{ maxlength: 15 }\"\r\n            v-model=\"username\"\r\n            :state=\"usernameState\"\r\n            @blur.native.capture=\"checkUsername\"\r\n          >\r\n          </mt-field>\r\n          <!-- 密码输入框 -->\r\n          <mt-field\r\n            class=\"register_op_field\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            :attr=\"{ maxlength: 20, autocomplete: 'off' }\"\r\n            v-model=\"password\"\r\n            :state=\"passwordState\"\r\n            @blur.native.capture=\"checkPassword\"\r\n          >\r\n          </mt-field>\r\n          <!-- 确认密码输入框 -->\r\n          <mt-field\r\n            class=\"register_op_field\"\r\n            type=\"password\"\r\n            label=\"确认密码\"\r\n            placeholder=\"请再次输入密码\"\r\n            :attr=\"{ maxlength: 20, autocomplete: 'off' }\"\r\n            v-model=\"conpassword\"\r\n            :state=\"conpasswordState\"\r\n            @blur.native.capture=\"checkConpassword\"\r\n          >\r\n          </mt-field>\r\n          <!-- 手机号输入框 -->\r\n          <mt-field\r\n            class=\"register_op_field register_field_x\"\r\n            type=\"text\"\r\n            label=\"手机号\"\r\n            placeholder=\"请输入手机号码\"\r\n            v-model=\"phone\"\r\n             :state=\"phoneState\"\r\n            :attr=\"{ maxlength: 11 }\"\r\n            @blur.native.capture=\"phoneshijian\"\r\n          ></mt-field>\r\n        </div>\r\n      </div>\r\n      <!-- 输入框部分结束 -->\r\n      <div>\r\n        <!-- 按钮 -->\r\n        <mt-button\r\n          type=\"primary\"\r\n          size=\"large\"\r\n          @click=\"handle\"\r\n          class=\"register_anniu bg\"\r\n          >注册</mt-button\r\n        >\r\n        <!-- 分享部分 -->\r\n        <div class=\"register_fgx\"></div>\r\n        <div class=\"register_div_fx\">\r\n          <img class=\"register_img\" src=\"../assets/login/QQ36.svg\" alt=\"\" />\r\n          <img class=\"register_img\" src=\"../assets/login/weixin36.svg\" alt=\"\" />\r\n          <img class=\"register_img\" src=\"../assets/login/weibo36.svg\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n      <!-- 表单区域结束 -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<style >\r\n.register_op_field input.mint-field-core {\r\n  background: rgba(196, 166, 142, 0);\r\n}\r\n.register_op_field {\r\n  background-image: none;\r\n}\r\n</style>\r\n<style scoped>\r\n.fens .bg {\r\n  background: #ff6699;\r\n}\r\n.zong .bg {\r\n  background: #9b7159;\r\n}\r\n.fens .bg_1 {\r\n  background: #ffccdd;\r\n}\r\n.zong .bg_1 {\r\n  background: #c4a86e;\r\n}\r\n/* 背景 */\r\n.register_back {\r\n  background: url(../assets/login/gonglu.jpg);\r\n  background-size: 100vw 115vh;\r\n}\r\n/* 去除下划线 */\r\n.shortcut {\r\n  text-decoration: none;\r\n}\r\n/* 表单左右边距 */\r\n.register_op {\r\n  padding: 0 10%;\r\n}\r\n/* 表单属性 */\r\n.register_field_s {\r\n  border-radius: 10px 10px 0 0;\r\n}\r\n.register_field_x {\r\n  border-radius: 0 0 10px 10px;\r\n}\r\n.register_op_field {\r\n  background: rgba(255, 255, 255, 0.5);\r\n}\r\n/* 表单头像部分 */\r\n.register_touxiang {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n  margin-bottom: 35px;\r\n}\r\n/* 表单按钮部分 */\r\n.register_anniu {\r\n  margin: 20px auto;\r\n  width: 50%;\r\n  border-radius: 10px;\r\n}\r\n/* 底部分享部分 */\r\n.register_div_fx {\r\n  width: 50%;\r\n  height: 36px;\r\n  padding-top: 20px;\r\n  margin: auto;\r\n  padding-bottom: 100px;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  flex-wrap: wrap;\r\n}\r\n/* 分割线 */\r\n.register_fgx {\r\n  width: 28%;\r\n  margin: auto;\r\n  border-top: 1px solid #d4d4d4;\r\n}\r\n.register_img {\r\n  width: 36px;\r\n  height: 36px;\r\n  margin: auto;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 用户名\r\n      username: \"\",\r\n      // 密码\r\n      password: \"\",\r\n      // 确认密码\r\n      conpassword: \"\",\r\n      //手机号码\r\n      phone:'',\r\n      // 用户名的状态\r\n      usernameState: \"\",\r\n      // 密码的状态\r\n      passwordState: \"\",\r\n      // 确认密码的状态\r\n      conpasswordState: \"\",\r\n      phoneState:''\r\n    };\r\n  },\r\n  mounted(){\r\n\r\n  },\r\n  methods: {\r\n    //校验用户名\r\n    checkUsername() {\r\n      let usernameRegExp = /^[0-9a-zA-Z_]{6,20}$/;\r\n      if (usernameRegExp.test(this.username)) {\r\n        this.usernameState = \"\";\r\n        return true;\r\n      } else {\r\n        this.usernameState = \"error\";\r\n        this.$toast({\r\n          message: \"用户名不合法\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    //校验密码\r\n    checkPassword() {\r\n      //密码的正则表达式\r\n      let passwordRegExp = /^[0-9A-Za-z]{8,20}$/;\r\n      if (passwordRegExp.test(this.password)) {\r\n        this.passwordState = \"\";\r\n        //确认面明的bug\r\n        if (this.password != this.conpassword && this.conpassword!='') {\r\n          this.conpasswordState = \"error\";\r\n          this.$toast({\r\n            message: \"两次密码不一致\",\r\n            position: \"top\",\r\n            duration: \"2000\",\r\n          });\r\n          return false;\r\n        } else {\r\n          this.conpasswordState = \"\";\r\n          return true;\r\n        }\r\n        return true;\r\n      } else {\r\n        this.passwordState = \"error\";\r\n        this.$toast({\r\n          message: \"密码不合法\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    //校验确认密码\r\n    checkConpassword() {\r\n      if (this.password == this.conpassword && this.conpassword != \"\") {\r\n        this.conpasswordState = \"\";\r\n        return true;\r\n      } else {\r\n        this.conpasswordState = \"error\";\r\n        this.$toast({\r\n          message: \"两次密码不一致\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    //手机号码应征\r\n    phoneshijian(){\r\n      var reg=/^1[3-9]\\d{9}$/;\r\n\t\t\t//     去除空格在判断\r\n\t\t\tif(reg.test(this.phone.trim())){\r\n        this.phoneState=''\r\n        return true;\r\n      }else{\r\n        this.phoneState = \"error\";\r\n        this.$toast({\r\n          message: \"手机号码不合法\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false\r\n      }\r\n    },\r\n    //提交数据\r\n    handle() {\r\n      // this.$router.push('/hsq')\r\n      if (\r\n        this.checkUsername() &&\r\n        this.checkPassword() &&\r\n        this.checkConpassword() &&\r\n        this.phoneshijian()\r\n      ) {\r\n        //该将获取到的信息提交到WEB服务器\r\n        let obj={ \r\n            account:this.username,\r\n            pwd:this.password,\r\n            phone:this.phone\r\n          }\r\n        this.axios.post(\r\n          '/users/register',\r\n          this.qs.stringify(obj)\r\n        ).then(res=>{\r\n          if(res.data.sxa==1){\r\n            //存储用户名\r\n            localStorage.setItem('uname',this.username)\r\n            //保存用户登录状态\r\n            localStorage.setItem('uname-show',1)\r\n            this.$router.push('/hsq')\r\n          }else{\r\n             this.$messagebox(\"注册提示\",\"用户名被占用\")\r\n          }\r\n        })\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]}]}